{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <title>Order History | ACTIVEZONE</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Track your turf bookings with ACTIVEZONE">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/jpg" href="../static/images/fav.png" />

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="{% static 'plugins/font-awesome-4.7.0/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">

    <!-- OwlCarousel -->
    <link rel="stylesheet" type="text/css" href="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'plugins/OwlCarousel2-2.2.1/owl.theme.default.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'plugins/OwlCarousel2-2.2.1/animate.css' %}">

    <!-- Main Styles -->
    <link rel="stylesheet" type="text/css" href="{% static 'styles/main_styles.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'styles/responsive.css' %}">

    <style>
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #fff;
            min-height: 100vh;
            font-family: 'Montserrat', sans-serif;
            display: flex;
            flex-direction: column;
        }

        .order-card {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid #444;
            border-radius: 10px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .order-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(243, 156, 18, 0.5);
        }

        .order-card p {
            margin: 0;
        }

        .container-fluid {
            flex: 1;
            padding: 2rem;
        }

        .no-booking {
            color: #f39c12;
            font-weight: 600;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(10px);">
        <div class="container py-2">
            <a class="navbar-brand d-flex align-items-center" href="/">
                <img src="../static/images/soc.png" class="logo me-2" alt="Logo" style="height:35px; width:35px; object-fit:contain;">
                <span class="fw-bold" style="letter-spacing: 1px;">ACTIVEZONE</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav align-items-lg-center">
                    <li class="nav-item"><a class="nav-link px-3" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link px-3" href="book_now">Book Now</a></li>
                    <li class="nav-item"><a class="nav-link px-3" href="aboutus">About Us</a></li>
                    <li class="nav-item"><a class="nav-link px-3 active" href="contactus">Contact Us</a></li>
                    {% if user.is_authenticated %}
                        <li class="nav-item"><a class="nav-link px-3" href="logout">Logout</a></li>
                    {% else %}
                        <li class="nav-item"><a class="nav-link px-3" href="signup">SignUp</a></li>
                        <li class="nav-item"><a class="nav-link px-3" href="login">Login</a></li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <h1 class="text-center mb-5">My Orders</h1>
{% with upcoming=False %}
    {% for i in bookings %}
        {% if currentDate <= i.selected_date %}
            {% with upcoming=True %}{% endwith %}
            <div class="row mb-4">
                <div class="col-md-12">
                    <div class="order-card p-4 shadow-sm">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Booking Details:</h5>
                                <p><strong>Name:</strong> {{ i.name }}</p>
                                <p><strong>Email:</strong> {{ i.email }}</p>
                                <p><strong>Booking Time:</strong> {{ i.booking_time }}</p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Booking Date:</strong> {{ i.current_date }}</p>
                                <p><strong>Selected Date:</strong> {{ i.selected_date }}</p>
                                <p><strong>Time Slot:</strong> {{ i.slots }}</p>
                                <p><strong>Total Amount:</strong> Rs. {{ i.amount }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    {% endfor %}
{% endwith %}

{% if not bookings or not upcoming %}
    <p class="h3 text-center mt-5 no-booking">No Upcoming Bookings Yet! Book your turf now ðŸ˜Ž</p>
{% endif %}

    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Other JS -->
    <script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
    <script src="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.js' %}"></script>
    <script src="{% static 'plugins/Isotope/isotope.pkgd.min.js' %}"></script>
    <script src="{% static 'plugins/scrollTo/jquery.scrollTo.min.js' %}"></script>
    <script src="{% static 'plugins/easing/easing.js' %}"></script>
    <script src="{% static 'plugins/parallax-js-master/parallax.min.js' %}"></script>
    <script src="{% static 'js/custom.js' %}"></script>
</body>
